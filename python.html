<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/3/w3.css">
<body>

<!-- Content will go here -->
  <h1>byeung0x Private Space</h1>
  
</body>
  <!-- Navigation -->
<nav class="w3-bar w3-black">
  <a href="/index.html" class="w3-button w3-bar-item">Home</a>
  <a href="#about" class="w3-button w3-bar-item">About</a>
  <a href="/python.html" class="w3-button w3-bar-item">Python Test</a>
  <a href="/FTX.html" class="w3-button w3-bar-item">Crypto Quant Zone</a>  
  <a href="/contact.html" class="w3-button w3-bar-item">Contact</a>
</nav>
    
 
    
<body>
    <h1>Get Crypto Price</h1>

    <button id="get_price-btn" onclick="userAction('eth','usd')">Get latest price</button>

    <table>
      <tr>
        <th>Coin</th>
        <th>Bid</th>
        <th>Ask</th>
        <th>Last updated</th>
      </tr>
      <tr>
        <td>Bitcoin</td>
        <td id="bid_btc"></td>
        <td id="ask_btc"></td>
        <td id="time_btc"></td>
      </tr>
      <tr>
        <td>Ether</td>
        <td id="bid_eth"></td>
        <td id="ask_eth"></td>
        <td id="time_eth"></td>
      </tr>
    </table>
    




    <script>
    async function userAction(coin,curr)
    {
      var response = await fetch('https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=' + coin + '&to_currency=' + curr + '&apikey=B2V50BK9GE7VJU3O',
      {method:'GET'});
      var myJson = await response.json(); //extract JSON from the http response
      // do something with myJson
      var bid = await myJson['Realtime Currency Exchange Rate']['8. Bid Price'];
      var ask = await myJson['Realtime Currency Exchange Rate']['9. Ask Price'];
      var time = await myJson['Realtime Currency Exchange Rate']['6. Last Refreshed'];
      console.log(bid,ask,time);
        
      var response = await fetch('https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=' + 'btc' + '&to_currency=' + curr + '&apikey=B2V50BK9GE7VJU3O',
      {method:'GET'});
      var myJson = await response.json(); //extract JSON from the http response
      // do something with myJson
      var bid2 = await myJson['Realtime Currency Exchange Rate']['8. Bid Price'];
      var ask2 = await myJson['Realtime Currency Exchange Rate']['9. Ask Price'];
      var time2 = await myJson['Realtime Currency Exchange Rate']['6. Last Refreshed'];
      console.log(bid2,ask2,time2);
        
        
      return [
      document.getElementById("bid_eth").innerHTML = bid,
      document.getElementById("ask_eth").innerHTML = ask,
      document.getElementById("time_eth").innerHTML = time,
      document.getElementById("bid_btc").innerHTML = bid2,
      document.getElementById("ask_btc").innerHTML = ask2,
      document.getElementById("time_btc").innerHTML = time2,
      ]
      ;

    }

    </script>



</body>
</html>
